{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{useToast}from\"../contexts/ToastContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const navigate=useNavigate();const{login}=useAuth();const{addToast}=useToast();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[errors,setErrors]=useState({});const validate=()=>{const nextErrors={};if(!email||!email.includes(\"@\"))nextErrors.email=\"Введите корректный email.\";if(!password||password.length<7)nextErrors.password=\"Минимум 7 символов.\";setErrors(nextErrors);return Object.keys(nextErrors).length===0;};const handleSubmit=event=>{event.preventDefault();if(!validate())return;const result=login(email,password);if(result.ok){addToast(\"Вы вошли в систему.\",\"success\");navigate(\"/\");return;}if(result.error===\"wrong_credentials\"){addToast(\"Неверные учетные данные.\",\"error\");}else{addToast(\"Не удалось войти. Проверьте данные.\",\"error\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex min-h-screen max-w-6xl items-center justify-center px-6 py-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-lg dark:border-slate-700 dark:bg-slate-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Kia AI\",className:\"h-10 w-auto\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0432 Kia AI Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 dark:text-slate-400\",children:\"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u043B\\u0438\\u0434\\u043E\\u0432 \\u0438 \\u0430\\u043D\\u0430\\u043B\\u0438\\u0442\\u0438\\u043A\\u0438\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-6 space-y-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"name@company.com\",className:\"mt-2 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-slate-700 dark:bg-slate-900\"}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-rose-500\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 7 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\",className:\"mt-2 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-slate-700 dark:bg-slate-900\"}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-rose-500\",children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full rounded-lg bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","useToast","jsx","_jsx","jsxs","_jsxs","LoginPage","navigate","login","addToast","email","setEmail","password","setPassword","errors","setErrors","validate","nextErrors","includes","length","Object","keys","handleSubmit","event","preventDefault","result","ok","error","className","children","src","alt","onSubmit","type","value","onChange","e","target","placeholder"],"sources":["/Users/ikassen/kiakia/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useToast } from \"../contexts/ToastContext\";\n\nconst LoginPage = () => {\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const { addToast } = useToast();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const validate = () => {\n    const nextErrors = {};\n    if (!email || !email.includes(\"@\")) nextErrors.email = \"Введите корректный email.\";\n    if (!password || password.length < 7) nextErrors.password = \"Минимум 7 символов.\";\n    setErrors(nextErrors);\n    return Object.keys(nextErrors).length === 0;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!validate()) return;\n\n    const result = login(email, password);\n    if (result.ok) {\n      addToast(\"Вы вошли в систему.\", \"success\");\n      navigate(\"/\");\n      return;\n    }\n\n    if (result.error === \"wrong_credentials\") {\n      addToast(\"Неверные учетные данные.\", \"error\");\n    } else {\n      addToast(\"Не удалось войти. Проверьте данные.\", \"error\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100\">\n      <div className=\"mx-auto flex min-h-screen max-w-6xl items-center justify-center px-6 py-16\">\n        <div className=\"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-8 shadow-lg dark:border-slate-700 dark:bg-slate-800\">\n          <div className=\"flex items-center gap-3\">\n            <img src=\"/logo.png\" alt=\"Kia AI\" className=\"h-10 w-auto\" />\n            <div>\n              <h1 className=\"text-xl font-semibold\">Войти в Kia AI Dashboard</h1>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400\">Панель лидов и аналитики</p>\n            </div>\n          </div>\n\n          <form className=\"mt-6 space-y-4\" onSubmit={handleSubmit}>\n            <div>\n              <label className=\"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"name@company.com\"\n                className=\"mt-2 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-slate-700 dark:bg-slate-900\"\n              />\n              {errors.email && (\n                <p className=\"mt-1 text-xs text-rose-500\">{errors.email}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400\">\n                Пароль\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Минимум 7 символов\"\n                className=\"mt-2 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-slate-700 dark:bg-slate-900\"\n              />\n              {errors.password && (\n                <p className=\"mt-1 text-xs text-rose-500\">{errors.password}</p>\n              )}\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full rounded-lg bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700\"\n            >\n              Войти\n            </button>\n          </form>\n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}