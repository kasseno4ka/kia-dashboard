{"ast":null,"code":"var _jsxFileName = \"/Users/ikassen/kiakia/frontend/src/components/Charts.jsx\";\nimport React from \"react\";\nimport { ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar, XAxis, YAxis, Tooltip, CartesianGrid, Legend } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QUALITY_COLORS = {\n  высокий: \"#22c55e\",\n  хороший: \"#16a34a\",\n  средний: \"#facc15\",\n  низкий: \"#f97316\"\n};\nconst Charts = ({\n  aggregations,\n  loading\n}) => {\n  if (!aggregations && !loading) return null;\n  const {\n    by_quality = [],\n    by_model = [],\n    by_date = []\n  } = aggregations || {};\n  const pieData = by_quality.filter(q => q.count > 0);\n  const modelsData = [...by_model].sort((a, b) => b.count - a.count).slice(0, 10);\n  const timeSeriesData = by_date;\n  const RoundedBar = props => {\n    var _values$, _values;\n    const {\n      x,\n      y,\n      width,\n      height,\n      fill,\n      payload,\n      dataKey\n    } = props;\n    if (height === 0) return null;\n    const qualities = [\"высокий\", \"хороший\", \"средний\", \"низкий\"];\n    const values = qualities.map(q => ({\n      key: q,\n      value: payload[q] || 0\n    })).filter(v => v.value > 0);\n    const topKey = (_values$ = values[0]) === null || _values$ === void 0 ? void 0 : _values$.key;\n    const bottomKey = (_values = values[values.length - 1]) === null || _values === void 0 ? void 0 : _values.key;\n    const radiusTop = dataKey === topKey ? 6 : 0;\n    const radiusBottom = dataKey === bottomKey ? 6 : 0;\n    return /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      rx: radiusTop || radiusBottom ? 6 : 0,\n      ry: radiusTop || radiusBottom ? 6 : 0,\n      fill: fill\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6 lg:grid-cols-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-2 text-sm font-semibold text-slate-700\",\n          children: \"\\u0420\\u0430\\u0441\\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u0430 \\u043B\\u0438\\u0434\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-64\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this) : pieData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n            children: \"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0442\\u043E\\u0447\\u043D\\u043E \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: \"100%\",\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: pieData,\n                dataKey: \"count\",\n                nameKey: \"quality\",\n                cx: \"50%\",\n                cy: \"50%\",\n                innerRadius: 45,\n                outerRadius: 85,\n                children: pieData.map(entry => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: QUALITY_COLORS[entry.quality] || \"#94a3b8\"\n                }, entry.quality, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                verticalAlign: \"bottom\",\n                iconType: \"circle\",\n                wrapperStyle: {\n                  fontSize: 12\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-2 text-sm font-semibold text-slate-700\",\n          children: \"\\u041B\\u0438\\u0434\\u044B \\u043F\\u043E \\u043C\\u043E\\u0434\\u0435\\u043B\\u044F\\u043C \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u0435\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-64\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this) : modelsData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n            children: \"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0442\\u043E\\u0447\\u043D\\u043E \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: \"100%\",\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: modelsData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                vertical: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"model\",\n                tick: {\n                  fontSize: 11\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                allowDecimals: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"count\",\n                fill: \"#22c55e\",\n                radius: [4, 4, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-3 text-sm font-semibold text-slate-700\",\n        children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u043B\\u0438\\u0434\\u043E\\u0432 (\\u043F\\u043E \\u043A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u0443)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-80\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this) : timeSeriesData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n          children: \"\\u041D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0442\\u043E\\u0447\\u043D\\u043E \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: timeSeriesData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\",\n              vertical: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"date\",\n              tick: {\n                fontSize: 11\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              allowDecimals: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              cursor: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {\n              wrapperStyle: {\n                fontSize: 12\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"\\u0432\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439\",\n              stackId: \"a\",\n              fill: QUALITY_COLORS[\"высокий\"],\n              shape: RoundedBar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"\\u0445\\u043E\\u0440\\u043E\\u0448\\u0438\\u0439\",\n              stackId: \"a\",\n              fill: QUALITY_COLORS[\"хороший\"],\n              shape: RoundedBar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"\\u0441\\u0440\\u0435\\u0434\\u043D\\u0438\\u0439\",\n              stackId: \"a\",\n              fill: QUALITY_COLORS[\"средний\"],\n              shape: RoundedBar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"\\u043D\\u0438\\u0437\\u043A\\u0438\\u0439\",\n              stackId: \"a\",\n              fill: QUALITY_COLORS[\"низкий\"],\n              shape: RoundedBar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6 lg:grid-cols-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-4 text-sm font-semibold text-slate-700\",\n          children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u043A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: by_quality.map(q => {\n            const total = by_quality.reduce((s, i) => s + i.count, 0);\n            const percent = total ? q.count / total * 100 : 0;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1 flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: q.quality\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-slate-500\",\n                  children: q.count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-2 w-full rounded bg-slate-100\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-2 rounded\",\n                  style: {\n                    width: `${percent}%`,\n                    background: q.quality === \"высокий\" ? \"#22c55e\" : q.quality === \"хороший\" ? \"#16a34a\" : q.quality === \"средний\" ? \"#facc15\" : \"#f97316\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, q.quality, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-4 text-sm font-semibold text-slate-700\",\n          children: \"\\u041A\\u043B\\u044E\\u0447\\u0435\\u0432\\u044B\\u0435 \\u043C\\u0435\\u0442\\u0440\\u0438\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }, this), ((_by_quality$find, _by_quality$find2) => {\n          const total = by_quality.reduce((s, i) => s + i.count, 0);\n          const high = ((_by_quality$find = by_quality.find(i => i.quality === \"высокий\")) === null || _by_quality$find === void 0 ? void 0 : _by_quality$find.count) || 0;\n          const good = ((_by_quality$find2 = by_quality.find(i => i.quality === \"хороший\")) === null || _by_quality$find2 === void 0 ? void 0 : _by_quality$find2.count) || 0;\n          const conversion = total ? Math.round((high + good) / total * 100) : 0;\n          const highPotential = total ? Math.round(high / total * 100) : 0;\n          const bestDay = [...by_date].sort((a, b) => b.total - a.total)[0];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u041E\\u0431\\u0449\\u0430\\u044F \\u043A\\u043E\\u043D\\u0432\\u0435\\u0440\\u0441\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [conversion, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0412\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439 \\u043F\\u043E\\u0442\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [highPotential, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C \\u0437\\u0430\\u044F\\u0432\\u043E\\u043A \\u0437\\u0430 \\u0434\\u0435\\u043D\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: (bestDay === null || bestDay === void 0 ? void 0 : bestDay.total) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u041B\\u0443\\u0447\\u0448\\u0438\\u0439 \\u0434\\u0435\\u043D\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: (bestDay === null || bestDay === void 0 ? void 0 : bestDay.date) || \"—\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this);\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_c = Charts;\nexport default Charts;\nvar _c;\n$RefreshReg$(_c, \"Charts\");","map":{"version":3,"names":["React","ResponsiveContainer","PieChart","Pie","Cell","BarChart","Bar","XAxis","YAxis","Tooltip","CartesianGrid","Legend","jsxDEV","_jsxDEV","QUALITY_COLORS","высокий","хороший","средний","низкий","Charts","aggregations","loading","by_quality","by_model","by_date","pieData","filter","q","count","modelsData","sort","a","b","slice","timeSeriesData","RoundedBar","props","_values$","_values","x","y","width","height","fill","payload","dataKey","qualities","values","map","key","value","v","topKey","bottomKey","length","radiusTop","radiusBottom","rx","ry","fileName","_jsxFileName","lineNumber","columnNumber","className","children","data","nameKey","cx","cy","innerRadius","outerRadius","entry","quality","verticalAlign","iconType","wrapperStyle","fontSize","strokeDasharray","vertical","tick","allowDecimals","radius","cursor","stackId","shape","total","reduce","s","i","percent","style","background","_by_quality$find","_by_quality$find2","high","find","good","conversion","Math","round","highPotential","bestDay","date","_c","$RefreshReg$"],"sources":["/Users/ikassen/kiakia/frontend/src/components/Charts.jsx"],"sourcesContent":["import React from \"react\";\nimport {\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  Legend,\n} from \"recharts\";\n\nconst QUALITY_COLORS = {\n  высокий: \"#22c55e\",\n  хороший: \"#16a34a\",\n  средний: \"#facc15\",\n  низкий: \"#f97316\",\n};\n\nconst Charts = ({ aggregations, loading }) => {\n  if (!aggregations && !loading) return null;\n\n  const {\n    by_quality = [],\n    by_model = [],\n    by_date = [],\n  } = aggregations || {};\n\n  const pieData = by_quality.filter((q) => q.count > 0);\n\n  const modelsData = [...by_model]\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 10);\n\n  const timeSeriesData = by_date;\n\n  const RoundedBar = (props) => {\n    const { x, y, width, height, fill, payload, dataKey } = props;\n  \n    if (height === 0) return null;\n  \n    const qualities = [\"высокий\", \"хороший\", \"средний\", \"низкий\"];\n  \n    const values = qualities\n      .map((q) => ({ key: q, value: payload[q] || 0 }))\n      .filter((v) => v.value > 0);\n  \n    const topKey = values[0]?.key;\n    const bottomKey = values[values.length - 1]?.key;\n  \n    const radiusTop = dataKey === topKey ? 6 : 0;\n    const radiusBottom = dataKey === bottomKey ? 6 : 0;\n  \n    return (\n      <rect\n        x={x}\n        y={y}\n        width={width}\n        height={height}\n        rx={radiusTop || radiusBottom ? 6 : 0}\n        ry={radiusTop || radiusBottom ? 6 : 0}\n        fill={fill}\n      />\n    );\n  };  \n\n  return (\n    <div className=\"space-y-6 mb-6\">\n      {/* ===================== */}\n      {/* TOP BLOCK */}\n      {/* ===================== */}\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        {/* PIE — Качество */}\n        <div className=\"card p-4\">\n          <h2 className=\"mb-2 text-sm font-semibold text-slate-700\">\n            Распределение качества лидов\n          </h2>\n\n          <div className=\"h-64\">\n            {loading ? (\n              <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n                Загрузка данных...\n              </div>\n            ) : pieData.length === 0 ? (\n              <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n                Недостаточно данных\n              </div>\n            ) : (\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                  <Pie\n                    data={pieData}\n                    dataKey=\"count\"\n                    nameKey=\"quality\"\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    innerRadius={45}\n                    outerRadius={85}\n                  >\n                    {pieData.map((entry) => (\n                      <Cell\n                        key={entry.quality}\n                        fill={QUALITY_COLORS[entry.quality] || \"#94a3b8\"}\n                      />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                  <Legend\n                    verticalAlign=\"bottom\"\n                    iconType=\"circle\"\n                    wrapperStyle={{ fontSize: 12 }}\n                  />\n                </PieChart>\n              </ResponsiveContainer>\n            )}\n          </div>\n        </div>\n\n        {/* BAR — Модели */}\n        <div className=\"card p-4\">\n          <h2 className=\"mb-2 text-sm font-semibold text-slate-700\">\n            Лиды по моделям автомобилей\n          </h2>\n\n          <div className=\"h-64\">\n            {loading ? (\n              <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n                Загрузка данных...\n              </div>\n            ) : modelsData.length === 0 ? (\n              <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n                Недостаточно данных\n              </div>\n            ) : (\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart data={modelsData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n                  <XAxis dataKey=\"model\" tick={{ fontSize: 11 }} />\n                  <YAxis allowDecimals={false} />\n                  <Tooltip />\n                  <Bar\n                    dataKey=\"count\"\n                    fill=\"#22c55e\"\n                    radius={[4, 4, 0, 0]}\n                  />\n                </BarChart>\n              </ResponsiveContainer>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* ===================== */}\n      {/* BOTTOM BLOCK */}\n      {/* ===================== */}\n      <div className=\"card p-4\">\n        <h2 className=\"mb-3 text-sm font-semibold text-slate-700\">\n          Статистика лидов (по качеству)\n        </h2>\n\n        <div className=\"h-80\">\n          {loading ? (\n            <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n              Загрузка данных...\n            </div>\n          ) : timeSeriesData.length === 0 ? (\n            <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n              Недостаточно данных\n            </div>\n          ) : (\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart data={timeSeriesData}>\n                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n                <XAxis dataKey=\"date\" tick={{ fontSize: 11 }} />\n                <YAxis allowDecimals={false} />\n                <Tooltip cursor={false} />\n                <Legend wrapperStyle={{ fontSize: 12 }} />\n                <Bar\n                  dataKey=\"высокий\"\n                  stackId=\"a\"\n                  fill={QUALITY_COLORS[\"высокий\"]}\n                  shape={RoundedBar}\n                />\n                <Bar\n                  dataKey=\"хороший\"\n                  stackId=\"a\"\n                  fill={QUALITY_COLORS[\"хороший\"]}\n                  shape={RoundedBar}\n                />\n                <Bar\n                  dataKey=\"средний\"\n                  stackId=\"a\"\n                  fill={QUALITY_COLORS[\"средний\"]}\n                  shape={RoundedBar}\n                />\n                <Bar\n                  dataKey=\"низкий\"\n                  stackId=\"a\"\n                  fill={QUALITY_COLORS[\"низкий\"]}\n                  shape={RoundedBar}\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          )}\n        </div>\n      </div>\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n      {/* ===================== */}\n      {/* СТАТИСТИКА КАЧЕСТВА */}\n      {/* ===================== */}\n      <div className=\"card p-4\">\n        <h2 className=\"mb-4 text-sm font-semibold text-slate-700\">\n          Статистика качества\n        </h2>\n\n        <div className=\"space-y-3\">\n          {by_quality.map((q) => {\n            const total = by_quality.reduce((s, i) => s + i.count, 0);\n            const percent = total ? (q.count / total) * 100 : 0;\n\n            return (\n              <div key={q.quality}>\n                <div className=\"mb-1 flex justify-between text-sm\">\n                  <span>{q.quality}</span>\n                  <span className=\"text-slate-500\">{q.count}</span>\n                </div>\n                <div className=\"h-2 w-full rounded bg-slate-100\">\n                  <div\n                    className=\"h-2 rounded\"\n                    style={{\n                      width: `${percent}%`,\n                      background:\n                        q.quality === \"высокий\"\n                          ? \"#22c55e\"\n                          : q.quality === \"хороший\"\n                          ? \"#16a34a\"\n                          : q.quality === \"средний\"\n                          ? \"#facc15\"\n                          : \"#f97316\",\n                    }}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>     \n\n      {/* ===================== */}\n      {/* КЛЮЧЕВЫЕ МЕТРИКИ */}\n      {/* ===================== */}\n      <div className=\"card p-4\">\n        <h2 className=\"mb-4 text-sm font-semibold text-slate-700\">\n          Ключевые метрики\n        </h2>\n\n        {(() => {\n          const total = by_quality.reduce((s, i) => s + i.count, 0);\n          const high = by_quality.find((i) => i.quality === \"высокий\")?.count || 0;\n          const good = by_quality.find((i) => i.quality === \"хороший\")?.count || 0;\n\n          const conversion = total ? Math.round(((high + good) / total) * 100) : 0;\n          const highPotential = total ? Math.round((high / total) * 100) : 0;\n\n          const bestDay = [...by_date].sort((a, b) => b.total - a.total)[0];\n\n          return (\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex justify-between\">\n                <span>Общая конверсия</span>\n                <strong>{conversion}%</strong>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Высокий потенциал</span>\n                <strong>{highPotential}%</strong>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Максимум заявок за день</span>\n                <strong>{bestDay?.total || 0}</strong>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Лучший день</span>\n                <strong>{bestDay?.date || \"—\"}</strong>\n              </div>\n            </div>\n          );\n        })()}\n      </div>\n      </div>\n\n\n    </div>\n\n    \n    \n  );\n};\n\nexport default Charts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}