{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{BrowserRouter,Navigate,Route,Routes,useLocation}from\"react-router-dom\";import Dashboard from\"./components/Dashboard\";import ProtectedRoute from\"./components/ProtectedRoute\";import LoginPage from\"./pages/LoginPage\";import{AuthProvider,useAuth}from\"./contexts/AuthContext\";import{ToastProvider}from\"./contexts/ToastContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{darkMode,onToggleDark}=_ref;const{isAuthenticated,logout}=useAuth();const location=useLocation();const isAuthRoute=location.pathname===\"/login\";if(isAuthRoute)return null;return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm dark:bg-slate-900/90 dark:border-b dark:border-slate-800 sticky top-0 z-20 backdrop-blur\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center min-w-0\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Kia AI Dashboard\",className:\"h-8 w-auto mr-3 shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-50 truncate\",children:\"Kia AI Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"hidden sm:block text-sm text-slate-500 dark:text-slate-400\",children:\"\\u041B\\u0438\\u0434\\u044B\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 sm:gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onToggleDark,className:\"inline-flex items-center rounded-full border border-slate-200 dark:border-slate-600 px-3 py-1 text-xs font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800\",children:darkMode?\"Light mode\":\"Dark mode\"}),isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:logout,className:\"inline-flex items-center rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold text-white hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200\",children:\"Logout\"})]})]})});};const AppShell=()=>{const[darkMode,setDarkMode]=useState(false);useEffect(()=>{const stored=window.localStorage.getItem(\"leadDashboard.darkMode\");if(stored===\"true\"){setDarkMode(true);}},[]);useEffect(()=>{window.localStorage.setItem(\"leadDashboard.darkMode\",darkMode?\"true\":\"false\");document.documentElement.classList.toggle(\"dark\",darkMode);},[darkMode]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-100 transition-colors\",children:[/*#__PURE__*/_jsx(Header,{darkMode:darkMode,onToggleDark:()=>setDarkMode(v=>!v)}),/*#__PURE__*/_jsx(\"main\",{className:\"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(AppShell,{})})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Navigate","Route","Routes","useLocation","Dashboard","ProtectedRoute","LoginPage","AuthProvider","useAuth","ToastProvider","jsx","_jsx","jsxs","_jsxs","Header","_ref","darkMode","onToggleDark","isAuthenticated","logout","location","isAuthRoute","pathname","className","children","src","alt","type","onClick","AppShell","setDarkMode","stored","window","localStorage","getItem","setItem","document","documentElement","classList","toggle","v","path","element","to","replace","App"],"sources":["/Users/ikassen/kiakia/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  BrowserRouter,\n  Navigate,\n  Route,\n  Routes,\n  useLocation\n} from \"react-router-dom\";\nimport Dashboard from \"./components/Dashboard\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport LoginPage from \"./pages/LoginPage\";\nimport { AuthProvider, useAuth } from \"./contexts/AuthContext\";\nimport { ToastProvider } from \"./contexts/ToastContext\";\n\nconst Header = ({ darkMode, onToggleDark }) => {\n  const { isAuthenticated, logout } = useAuth();\n  const location = useLocation();\n  const isAuthRoute = location.pathname === \"/login\";\n\n  if (isAuthRoute) return null;\n\n  return (\n    <header className=\"bg-white shadow-sm dark:bg-slate-900/90 dark:border-b dark:border-slate-800 sticky top-0 z-20 backdrop-blur\">\n      <div className=\"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between\">\n        <div className=\"flex items-center min-w-0\">\n          <img\n            src=\"/logo.png\"\n            alt=\"Kia AI Dashboard\"\n            className=\"h-8 w-auto mr-3 shrink-0\"\n          />\n          <div className=\"min-w-0\">\n            <h1 className=\"text-lg sm:text-xl font-semibold text-slate-900 dark:text-slate-50 truncate\">\n              Kia AI Dashboard\n            </h1>\n            <p className=\"hidden sm:block text-sm text-slate-500 dark:text-slate-400\">\n              Лиды\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2 sm:gap-3\">\n          <button\n            type=\"button\"\n            onClick={onToggleDark}\n            className=\"inline-flex items-center rounded-full border border-slate-200 dark:border-slate-600 px-3 py-1 text-xs font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800\"\n          >\n            {darkMode ? \"Light mode\" : \"Dark mode\"}\n          </button>\n          {isAuthenticated && (\n            <button\n              type=\"button\"\n              onClick={logout}\n              className=\"inline-flex items-center rounded-full bg-slate-900 px-3 py-1 text-xs font-semibold text-white hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200\"\n            >\n              Logout\n            </button>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nconst AppShell = () => {\n  const [darkMode, setDarkMode] = useState(false);\n\n  useEffect(() => {\n    const stored = window.localStorage.getItem(\"leadDashboard.darkMode\");\n    if (stored === \"true\") {\n      setDarkMode(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.localStorage.setItem(\"leadDashboard.darkMode\", darkMode ? \"true\" : \"false\");\n    document.documentElement.classList.toggle(\"dark\", darkMode);\n  }, [darkMode]);\n\n  return (\n    <div className=\"min-h-screen bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-100 transition-colors\">\n      <Header darkMode={darkMode} onToggleDark={() => setDarkMode((v) => !v)} />\n      <main className=\"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8\">\n        <Routes>\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            }\n          />\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n        </Routes>\n      </main>\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <ToastProvider>\n        <BrowserRouter>\n          <AppShell />\n        </BrowserRouter>\n      </ToastProvider>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}