{"ast":null,"code":"import axios from \"axios\";\n\n// В CRA переменные окружения должны начинаться с REACT_APP_\nconst API_URL = process.env.REACT_APP_API_URL;\nif (!API_URL) {\n  // Не падаем, но даем подсказку в консоли\n  // eslint-disable-next-line no-console\n  console.warn(\"REACT_APP_API_URL не задан. Установите его в .env, чтобы фронтенд мог обращаться к Apps Script.\");\n}\n\n/**\n * Запрос лидов и агрегаций с backend (Apps Script).\n * Оборачиваем параметры в объект params, чтобы axios сформировал query string.\n */\nexport async function fetchLeads({\n  limit = 10,\n  offset = 0,\n  quality = \"all\",\n  search = \"\",\n  from,\n  to\n} = {}) {\n  if (!API_URL) {\n    throw new Error(\"REACT_APP_API_URL is not configured\");\n  }\n  const params = {\n    limit,\n    offset,\n    quality,\n    search\n  };\n  if (from) {\n    params.from = from;\n  }\n  if (to) {\n    params.to = to;\n  }\n  const response = await axios.get(API_URL, {\n    params\n  });\n  return response.data;\n}","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","console","warn","fetchLeads","limit","offset","quality","search","from","to","Error","params","response","get","data"],"sources":["/Users/ikassen/kiakia/frontend/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\n\n// В CRA переменные окружения должны начинаться с REACT_APP_\nconst API_URL = process.env.REACT_APP_API_URL;\n\nif (!API_URL) {\n  // Не падаем, но даем подсказку в консоли\n  // eslint-disable-next-line no-console\n  console.warn(\n    \"REACT_APP_API_URL не задан. Установите его в .env, чтобы фронтенд мог обращаться к Apps Script.\"\n  );\n}\n\n/**\n * Запрос лидов и агрегаций с backend (Apps Script).\n * Оборачиваем параметры в объект params, чтобы axios сформировал query string.\n */\nexport async function fetchLeads({\n  limit = 10,\n  offset = 0,\n  quality = \"all\",\n  search = \"\",\n  from,\n  to\n} = {}) {\n  if (!API_URL) {\n    throw new Error(\"REACT_APP_API_URL is not configured\");\n  }\n\n  const params = {\n    limit,\n    offset,\n    quality,\n    search\n  };\n\n  if (from) {\n    params.from = from;\n  }\n  if (to) {\n    params.to = to;\n  }\n\n  const response = await axios.get(API_URL, { params });\n  return response.data;\n}\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,IAAI,CAACH,OAAO,EAAE;EACZ;EACA;EACAI,OAAO,CAACC,IAAI,CACV,iGACF,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAeC,UAAUA,CAAC;EAC/BC,KAAK,GAAG,EAAE;EACVC,MAAM,GAAG,CAAC;EACVC,OAAO,GAAG,KAAK;EACfC,MAAM,GAAG,EAAE;EACXC,IAAI;EACJC;AACF,CAAC,GAAG,CAAC,CAAC,EAAE;EACN,IAAI,CAACZ,OAAO,EAAE;IACZ,MAAM,IAAIa,KAAK,CAAC,qCAAqC,CAAC;EACxD;EAEA,MAAMC,MAAM,GAAG;IACbP,KAAK;IACLC,MAAM;IACNC,OAAO;IACPC;EACF,CAAC;EAED,IAAIC,IAAI,EAAE;IACRG,MAAM,CAACH,IAAI,GAAGA,IAAI;EACpB;EACA,IAAIC,EAAE,EAAE;IACNE,MAAM,CAACF,EAAE,GAAGA,EAAE;EAChB;EAEA,MAAMG,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAChB,OAAO,EAAE;IAAEc;EAAO,CAAC,CAAC;EACrD,OAAOC,QAAQ,CAACE,IAAI;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}