{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nconst STORAGE_KEY = \"leadDashboard.filters.v1\";\nconst defaultFilters = {\n  period: \"30d\",\n  // today | 7d | 30d | custom\n  from: \"\",\n  to: \"\",\n  quality: \"all\",\n  model: \"all\",\n  source: \"all\",\n  status: \"all\",\n  tags: \"\",\n  search: \"\"\n};\nexport function useDashboardFilters() {\n  _s();\n  const [filters, setFilters] = useState(defaultFilters);\n  const [presets, setPresets] = useState({});\n  useEffect(() => {\n    try {\n      const stored = window.localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (parsed.filters) setFilters({\n          ...defaultFilters,\n          ...parsed.filters\n        });\n        if (parsed.presets) setPresets(parsed.presets);\n      }\n    } catch {\n      // ignore\n    }\n  }, []);\n  useEffect(() => {\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify({\n      filters,\n      presets\n    }));\n  }, [filters, presets]);\n  const updateFilters = patch => {\n    setFilters(prev => ({\n      ...prev,\n      ...patch\n    }));\n  };\n  const resetFilters = () => {\n    setFilters(defaultFilters);\n  };\n  const savePreset = name => {\n    if (!name) return;\n    setPresets(prev => ({\n      ...prev,\n      [name]: filters\n    }));\n  };\n  const loadPreset = name => {\n    const preset = presets[name];\n    if (!preset) return;\n    setFilters({\n      ...defaultFilters,\n      ...preset\n    });\n  };\n  return {\n    filters,\n    setFilters: updateFilters,\n    resetFilters,\n    presets,\n    savePreset,\n    loadPreset\n  };\n}\n_s(useDashboardFilters, \"eqJDQZdQtRDIS6xKwOfO+ZCXSyE=\");","map":{"version":3,"names":["useEffect","useState","STORAGE_KEY","defaultFilters","period","from","to","quality","model","source","status","tags","search","useDashboardFilters","_s","filters","setFilters","presets","setPresets","stored","window","localStorage","getItem","parsed","JSON","parse","setItem","stringify","updateFilters","patch","prev","resetFilters","savePreset","name","loadPreset","preset"],"sources":["/Users/ikassen/kiakia/frontend/src/hooks/useDashboardFilters.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst STORAGE_KEY = \"leadDashboard.filters.v1\";\n\nconst defaultFilters = {\n  period: \"30d\", // today | 7d | 30d | custom\n  from: \"\",\n  to: \"\",\n  quality: \"all\",\n  model: \"all\",\n  source: \"all\",\n  status: \"all\",\n  tags: \"\",\n  search: \"\"\n};\n\nexport function useDashboardFilters() {\n  const [filters, setFilters] = useState(defaultFilters);\n  const [presets, setPresets] = useState({});\n\n  useEffect(() => {\n    try {\n      const stored = window.localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (parsed.filters) setFilters({ ...defaultFilters, ...parsed.filters });\n        if (parsed.presets) setPresets(parsed.presets);\n      }\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      STORAGE_KEY,\n      JSON.stringify({ filters, presets })\n    );\n  }, [filters, presets]);\n\n  const updateFilters = (patch) => {\n    setFilters((prev) => ({ ...prev, ...patch }));\n  };\n\n  const resetFilters = () => {\n    setFilters(defaultFilters);\n  };\n\n  const savePreset = (name) => {\n    if (!name) return;\n    setPresets((prev) => ({ ...prev, [name]: filters }));\n  };\n\n  const loadPreset = (name) => {\n    const preset = presets[name];\n    if (!preset) return;\n    setFilters({ ...defaultFilters, ...preset });\n  };\n\n  return {\n    filters,\n    setFilters: updateFilters,\n    resetFilters,\n    presets,\n    savePreset,\n    loadPreset\n  };\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAG,0BAA0B;AAE9C,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,KAAK;EAAE;EACfC,IAAI,EAAE,EAAE;EACRC,EAAE,EAAE,EAAE;EACNC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE,KAAK;EACZC,MAAM,EAAE,KAAK;EACbC,MAAM,EAAE,KAAK;EACbC,IAAI,EAAE,EAAE;EACRC,MAAM,EAAE;AACV,CAAC;AAED,OAAO,SAASC,mBAAmBA,CAAA,EAAG;EAAAC,EAAA;EACpC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAACE,cAAc,CAAC;EACtD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMmB,MAAM,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACpB,WAAW,CAAC;MACvD,IAAIiB,MAAM,EAAE;QACV,MAAMI,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACN,MAAM,CAAC;QACjC,IAAII,MAAM,CAACR,OAAO,EAAEC,UAAU,CAAC;UAAE,GAAGb,cAAc;UAAE,GAAGoB,MAAM,CAACR;QAAQ,CAAC,CAAC;QACxE,IAAIQ,MAAM,CAACN,OAAO,EAAEC,UAAU,CAACK,MAAM,CAACN,OAAO,CAAC;MAChD;IACF,CAAC,CAAC,MAAM;MACN;IAAA;EAEJ,CAAC,EAAE,EAAE,CAAC;EAENjB,SAAS,CAAC,MAAM;IACdoB,MAAM,CAACC,YAAY,CAACK,OAAO,CACzBxB,WAAW,EACXsB,IAAI,CAACG,SAAS,CAAC;MAAEZ,OAAO;MAAEE;IAAQ,CAAC,CACrC,CAAC;EACH,CAAC,EAAE,CAACF,OAAO,EAAEE,OAAO,CAAC,CAAC;EAEtB,MAAMW,aAAa,GAAIC,KAAK,IAAK;IAC/Bb,UAAU,CAAEc,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,GAAGD;IAAM,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,MAAME,YAAY,GAAGA,CAAA,KAAM;IACzBf,UAAU,CAACb,cAAc,CAAC;EAC5B,CAAC;EAED,MAAM6B,UAAU,GAAIC,IAAI,IAAK;IAC3B,IAAI,CAACA,IAAI,EAAE;IACXf,UAAU,CAAEY,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACG,IAAI,GAAGlB;IAAQ,CAAC,CAAC,CAAC;EACtD,CAAC;EAED,MAAMmB,UAAU,GAAID,IAAI,IAAK;IAC3B,MAAME,MAAM,GAAGlB,OAAO,CAACgB,IAAI,CAAC;IAC5B,IAAI,CAACE,MAAM,EAAE;IACbnB,UAAU,CAAC;MAAE,GAAGb,cAAc;MAAE,GAAGgC;IAAO,CAAC,CAAC;EAC9C,CAAC;EAED,OAAO;IACLpB,OAAO;IACPC,UAAU,EAAEY,aAAa;IACzBG,YAAY;IACZd,OAAO;IACPe,UAAU;IACVE;EACF,CAAC;AACH;AAACpB,EAAA,CAnDeD,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}