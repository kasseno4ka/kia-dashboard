{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nconst STORAGE_KEY = \"leadDashboard.filters.v1\";\nconst defaultFilters = {\n  period: \"30d\",\n  // today | 7d | 30d | custom\n  from: \"\",\n  to: \"\",\n  quality: \"all\",\n  model: \"all\",\n  source: \"all\",\n  status: \"all\",\n  tags: \"\",\n  search: \"\"\n};\nexport function useDashboardFilters() {\n  _s();\n  const [{\n    filters,\n    presets\n  }, setStore] = useState(() => {\n    try {\n      const stored = window.localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        return {\n          filters: {\n            ...defaultFilters,\n            ...(parsed.filters || {})\n          },\n          presets: parsed.presets || {}\n        };\n      }\n    } catch {\n      // ignore\n    }\n    return {\n      filters: defaultFilters,\n      presets: {}\n    };\n  });\n  useEffect(() => {\n    window.localStorage.setItem(STORAGE_KEY, JSON.stringify({\n      filters,\n      presets\n    }));\n  }, [filters, presets]);\n  const updateFilters = useCallback(patch => {\n    setStore(prev => ({\n      ...prev,\n      filters: {\n        ...prev.filters,\n        ...patch\n      }\n    }));\n  }, []);\n  const resetFilters = useCallback(() => {\n    setStore(prev => ({\n      ...prev,\n      filters: defaultFilters\n    }));\n  }, []);\n  const savePreset = useCallback(name => {\n    if (!name) return;\n    setStore(prev => ({\n      ...prev,\n      presets: {\n        ...prev.presets,\n        [name]: prev.filters\n      }\n    }));\n  }, []);\n  const loadPreset = useCallback(name => {\n    setStore(prev => {\n      const preset = prev.presets[name];\n      if (!preset) return prev;\n      return {\n        ...prev,\n        filters: {\n          ...defaultFilters,\n          ...preset\n        }\n      };\n    });\n  }, []);\n  return useMemo(() => ({\n    filters,\n    setFilters: updateFilters,\n    resetFilters,\n    presets,\n    savePreset,\n    loadPreset\n  }), [filters, updateFilters, resetFilters, presets, savePreset, loadPreset]);\n}\n_s(useDashboardFilters, \"yzj6H/nw2sIHZd7kgYpCzGd7Pyg=\");","map":{"version":3,"names":["useCallback","useEffect","useMemo","useState","STORAGE_KEY","defaultFilters","period","from","to","quality","model","source","status","tags","search","useDashboardFilters","_s","filters","presets","setStore","stored","window","localStorage","getItem","parsed","JSON","parse","setItem","stringify","updateFilters","patch","prev","resetFilters","savePreset","name","loadPreset","preset","setFilters"],"sources":["/Users/ikassen/kiakia/frontend/src/hooks/useDashboardFilters.js"],"sourcesContent":["import { useCallback, useEffect, useMemo, useState } from \"react\";\n\nconst STORAGE_KEY = \"leadDashboard.filters.v1\";\n\nconst defaultFilters = {\n  period: \"30d\", // today | 7d | 30d | custom\n  from: \"\",\n  to: \"\",\n  quality: \"all\",\n  model: \"all\",\n  source: \"all\",\n  status: \"all\",\n  tags: \"\",\n  search: \"\"\n};\n\nexport function useDashboardFilters() {\n  const [{ filters, presets }, setStore] = useState(() => {\n    try {\n      const stored = window.localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        return {\n          filters: { ...defaultFilters, ...(parsed.filters || {}) },\n          presets: parsed.presets || {}\n        };\n      }\n    } catch {\n      // ignore\n    }\n    return { filters: defaultFilters, presets: {} };\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      STORAGE_KEY,\n      JSON.stringify({ filters, presets })\n    );\n  }, [filters, presets]);\n\n  const updateFilters = useCallback((patch) => {\n    setStore((prev) => ({\n      ...prev,\n      filters: { ...prev.filters, ...patch }\n    }));\n  }, []);\n\n  const resetFilters = useCallback(() => {\n    setStore((prev) => ({ ...prev, filters: defaultFilters }));\n  }, []);\n\n  const savePreset = useCallback((name) => {\n    if (!name) return;\n    setStore((prev) => ({\n      ...prev,\n      presets: { ...prev.presets, [name]: prev.filters }\n    }));\n  }, []);\n\n  const loadPreset = useCallback((name) => {\n    setStore((prev) => {\n      const preset = prev.presets[name];\n      if (!preset) return prev;\n      return {\n        ...prev,\n        filters: { ...defaultFilters, ...preset }\n      };\n    });\n  }, []);\n\n  return useMemo(\n    () => ({\n      filters,\n      setFilters: updateFilters,\n      resetFilters,\n      presets,\n      savePreset,\n      loadPreset\n    }),\n    [filters, updateFilters, resetFilters, presets, savePreset, loadPreset]\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}