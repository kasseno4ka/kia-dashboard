{"ast":null,"code":"import React from\"react\";import{ResponsiveContainer,PieChart,Pie,Cell,Tooltip}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CHART_COLORS=[\"#2563eb\",\"#10b981\",\"#ff6b57\",\"#f59e0b\",\"#7c3aed\"];const OTHERS_COLOR=\"#d1d5db\";const QUALITY_ORDER=[\"высокий\",\"хороший\",\"средний\",\"низкий\"];const QUALITY_LABELS={высокий:\"Высокий\",хороший:\"Хороший\",средний:\"Средний\",низкий:\"Низкий\"};const QUALITY_COLORS={Высокий:\"#22c55e\",Хороший:\"#84cc16\",Средний:\"#facc15\",Низкий:\"#ef4444\"};const STATIC_METRICS=[{label:\"Общая конверсия\",value:\"55%\"},{label:\"Высокий потенциал\",value:\"49%\"},{label:\"Максимум заявок за день\",value:\"161\"},{label:\"Лучший день\",value:\"2026-02-24\"}];function normalizeQuality(byQuality){const normalized=(byQuality||[]).map(item=>{var _ref,_item$count;return{quality:item.quality,name:QUALITY_LABELS[item.quality]||item.quality||\"Неизвестно\",value:(_ref=(_item$count=item.count)!==null&&_item$count!==void 0?_item$count:item.value)!==null&&_ref!==void 0?_ref:0};});return normalized.filter(item=>item.value>0).sort((a,b)=>QUALITY_ORDER.indexOf(a.quality)-QUALITY_ORDER.indexOf(b.quality));}function toTopFiveWithOthers(items,nameKey,valueKey){const normalized=(items||[]).map(item=>{var _ref2,_ref3,_item$valueKey;return{name:item[nameKey]||item.name||\"—\",value:(_ref2=(_ref3=(_item$valueKey=item[valueKey])!==null&&_item$valueKey!==void 0?_item$valueKey:item.count)!==null&&_ref3!==void 0?_ref3:item.value)!==null&&_ref2!==void 0?_ref2:0};}).filter(item=>item.value>0).sort((a,b)=>b.value-a.value);const topFive=normalized.slice(0,5);const othersValue=normalized.slice(5).reduce((sum,item)=>sum+item.value,0);if(othersValue>0){topFive.push({name:\"Остальные\",value:othersValue,isOthers:true});}return topFive;}const TooltipContent=_ref4=>{var _payload$;let{active,payload}=_ref4;if(!active||!payload||!payload.length)return null;const item=(_payload$=payload[0])===null||_payload$===void 0?void 0:_payload$.payload;if(!item)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700 shadow-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.value})]});};const renderCalloutLabel=_ref5=>{let{cx,cy,midAngle,outerRadius,percent,name}=_ref5;if(!percent||percent<=0)return null;const RADIAN=Math.PI/180;const labelRadius=outerRadius+26;const x=cx+labelRadius*Math.cos(-midAngle*RADIAN);const y=cy+labelRadius*Math.sin(-midAngle*RADIAN);const textAnchor=x>cx?\"start\":\"end\";return/*#__PURE__*/_jsx(\"text\",{x:x,y:y,fill:\"var(--chart-label-color)\",textAnchor:textAnchor,dominantBaseline:\"central\",style:{fontSize:11,fontWeight:500},children:\"\".concat(name,\" \").concat(Math.round(percent*100),\"%\")});};const EmptyState=_ref6=>{let{loading}=_ref6;return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full items-center justify-center text-sm text-slate-400\",children:loading?\"Загрузка данных...\":\"Недостаточно данных\"});};const DonutChart=_ref7=>{let{data,loading,qualityMode=false,compact=false}=_ref7;if(loading||data.length===0){return/*#__PURE__*/_jsx(EmptyState,{loading:loading});}const chartMargin=compact?{top:28,right:82,bottom:28,left:82}:{top:28,right:96,bottom:28,left:96};const innerRadius=compact?58:66;const outerRadius=compact?96:108;return/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full overflow-visible p-4 [--chart-label-color:#475569] [--chart-line-color:#94a3b8] dark:[--chart-label-color:#cbd5e1] dark:[--chart-line-color:#cbd5e1]\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(PieChart,{margin:chartMargin,children:[/*#__PURE__*/_jsx(Pie,{data:data,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",innerRadius:innerRadius,outerRadius:outerRadius,paddingAngle:2,label:renderCalloutLabel,labelLine:{stroke:\"var(--chart-line-color)\",strokeWidth:1},children:data.map((entry,index)=>{const fill=qualityMode?QUALITY_COLORS[entry.name]||OTHERS_COLOR:entry.isOthers?OTHERS_COLOR:CHART_COLORS[index%CHART_COLORS.length];return/*#__PURE__*/_jsx(Cell,{fill:fill},\"\".concat(entry.name,\"-\").concat(index));})}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(TooltipContent,{})})]})})});};const ChartCard=_ref8=>{let{title,data,loading,qualityMode=false,compact=false,className=\"\"}=_ref8;return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-2xl border border-transparent bg-white p-6 shadow-md dark:border-slate-700 dark:bg-slate-800 \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-72 items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full w-[15%] items-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-slate-900 dark:text-slate-100\",children:title})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-[85%]\",children:/*#__PURE__*/_jsx(DonutChart,{data:data,loading:loading,qualityMode:qualityMode,compact:compact})})]})});};const KeyMetricsCard=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl border border-transparent bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-base font-semibold text-slate-700 dark:text-slate-200\",children:\"\\u041A\\u043B\\u044E\\u0447\\u0435\\u0432\\u044B\\u0435 \\u043C\\u0435\\u0442\\u0440\\u0438\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center justify-between gap-4 lg:flex-nowrap\",children:STATIC_METRICS.map(metric=>/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-[180px] flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 dark:text-slate-400\",children:metric.label}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-2xl font-bold text-slate-900 dark:text-slate-100\",children:metric.value})]},metric.label))})]});const Charts=_ref9=>{let{aggregations,loading}=_ref9;if(!aggregations&&!loading)return null;const byModel=toTopFiveWithOthers((aggregations===null||aggregations===void 0?void 0:aggregations.by_model)||[],\"model\",\"count\");const byCity=toTopFiveWithOthers((aggregations===null||aggregations===void 0?void 0:aggregations.by_city)||[],\"name\",\"value\");const byQuality=normalizeQuality((aggregations===null||aggregations===void 0?void 0:aggregations.by_quality)||[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 grid grid-cols-1 gap-6 font-sans lg:grid-cols-2\",children:[/*#__PURE__*/_jsx(ChartCard,{title:\"\\u041C\\u043E\\u0434\\u0435\\u043B\\u0438 \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u0435\\u0439\",data:byModel,loading:loading,compact:true}),/*#__PURE__*/_jsx(ChartCard,{title:\"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u043F\\u043E \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430\\u043C\",data:byCity,loading:loading,compact:true}),/*#__PURE__*/_jsx(ChartCard,{className:\"lg:col-span-2\",title:\"\\u041A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043B\\u0438\\u0434\\u043E\\u0432\",data:byQuality,loading:loading,qualityMode:true}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(KeyMetricsCard,{})})]});};export default Charts;","map":{"version":3,"names":["React","ResponsiveContainer","PieChart","Pie","Cell","Tooltip","jsx","_jsx","jsxs","_jsxs","CHART_COLORS","OTHERS_COLOR","QUALITY_ORDER","QUALITY_LABELS","высокий","хороший","средний","низкий","QUALITY_COLORS","Высокий","Хороший","Средний","Низкий","STATIC_METRICS","label","value","normalizeQuality","byQuality","normalized","map","item","_ref","_item$count","quality","name","count","filter","sort","a","b","indexOf","toTopFiveWithOthers","items","nameKey","valueKey","_ref2","_ref3","_item$valueKey","topFive","slice","othersValue","reduce","sum","push","isOthers","TooltipContent","_ref4","_payload$","active","payload","length","className","children","renderCalloutLabel","_ref5","cx","cy","midAngle","outerRadius","percent","RADIAN","Math","PI","labelRadius","x","cos","y","sin","textAnchor","fill","dominantBaseline","style","fontSize","fontWeight","concat","round","EmptyState","_ref6","loading","DonutChart","_ref7","data","qualityMode","compact","chartMargin","top","right","bottom","left","innerRadius","width","height","margin","dataKey","paddingAngle","labelLine","stroke","strokeWidth","entry","index","content","ChartCard","_ref8","title","KeyMetricsCard","metric","Charts","_ref9","aggregations","byModel","by_model","byCity","by_city","by_quality"],"sources":["/Users/ikassen/kiakia/frontend/src/components/Charts.jsx"],"sourcesContent":["import React from \"react\";\nimport { ResponsiveContainer, PieChart, Pie, Cell, Tooltip } from \"recharts\";\n\nconst CHART_COLORS = [\"#2563eb\", \"#10b981\", \"#ff6b57\", \"#f59e0b\", \"#7c3aed\"];\nconst OTHERS_COLOR = \"#d1d5db\";\n\nconst QUALITY_ORDER = [\"высокий\", \"хороший\", \"средний\", \"низкий\"];\nconst QUALITY_LABELS = {\n  высокий: \"Высокий\",\n  хороший: \"Хороший\",\n  средний: \"Средний\",\n  низкий: \"Низкий\",\n};\n\nconst QUALITY_COLORS = {\n  Высокий: \"#22c55e\",\n  Хороший: \"#84cc16\",\n  Средний: \"#facc15\",\n  Низкий: \"#ef4444\",\n};\n\nconst STATIC_METRICS = [\n  { label: \"Общая конверсия\", value: \"55%\" },\n  { label: \"Высокий потенциал\", value: \"49%\" },\n  { label: \"Максимум заявок за день\", value: \"161\" },\n  { label: \"Лучший день\", value: \"2026-02-24\" },\n];\n\nfunction normalizeQuality(byQuality) {\n  const normalized = (byQuality || []).map((item) => ({\n    quality: item.quality,\n    name: QUALITY_LABELS[item.quality] || item.quality || \"Неизвестно\",\n    value: item.count ?? item.value ?? 0,\n  }));\n\n  return normalized\n    .filter((item) => item.value > 0)\n    .sort((a, b) => QUALITY_ORDER.indexOf(a.quality) - QUALITY_ORDER.indexOf(b.quality));\n}\n\nfunction toTopFiveWithOthers(items, nameKey, valueKey) {\n  const normalized = (items || [])\n    .map((item) => ({\n      name: item[nameKey] || item.name || \"—\",\n      value: item[valueKey] ?? item.count ?? item.value ?? 0,\n    }))\n    .filter((item) => item.value > 0)\n    .sort((a, b) => b.value - a.value);\n\n  const topFive = normalized.slice(0, 5);\n  const othersValue = normalized.slice(5).reduce((sum, item) => sum + item.value, 0);\n\n  if (othersValue > 0) {\n    topFive.push({ name: \"Остальные\", value: othersValue, isOthers: true });\n  }\n\n  return topFive;\n}\n\nconst TooltipContent = ({ active, payload }) => {\n  if (!active || !payload || !payload.length) return null;\n\n  const item = payload[0]?.payload;\n  if (!item) return null;\n\n  return (\n    <div className=\"rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700 shadow-sm dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200\">\n      <p className=\"font-medium\">{item.name}</p>\n      <p>{item.value}</p>\n    </div>\n  );\n};\n\nconst renderCalloutLabel = ({ cx, cy, midAngle, outerRadius, percent, name }) => {\n  if (!percent || percent <= 0) return null;\n\n  const RADIAN = Math.PI / 180;\n  const labelRadius = outerRadius + 26;\n  const x = cx + labelRadius * Math.cos(-midAngle * RADIAN);\n  const y = cy + labelRadius * Math.sin(-midAngle * RADIAN);\n  const textAnchor = x > cx ? \"start\" : \"end\";\n\n  return (\n    <text\n      x={x}\n      y={y}\n      fill=\"var(--chart-label-color)\"\n      textAnchor={textAnchor}\n      dominantBaseline=\"central\"\n      style={{ fontSize: 11, fontWeight: 500 }}\n    >\n      {`${name} ${Math.round(percent * 100)}%`}\n    </text>\n  );\n};\n\nconst EmptyState = ({ loading }) => (\n  <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n    {loading ? \"Загрузка данных...\" : \"Недостаточно данных\"}\n  </div>\n);\n\nconst DonutChart = ({ data, loading, qualityMode = false, compact = false }) => {\n  if (loading || data.length === 0) {\n    return <EmptyState loading={loading} />;\n  }\n\n  const chartMargin = compact\n    ? { top: 28, right: 82, bottom: 28, left: 82 }\n    : { top: 28, right: 96, bottom: 28, left: 96 };\n\n  const innerRadius = compact ? 58 : 66;\n  const outerRadius = compact ? 96 : 108;\n\n  return (\n    <div className=\"h-full w-full overflow-visible p-4 [--chart-label-color:#475569] [--chart-line-color:#94a3b8] dark:[--chart-label-color:#cbd5e1] dark:[--chart-line-color:#cbd5e1]\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <PieChart margin={chartMargin}>\n          <Pie\n            data={data}\n            dataKey=\"value\"\n            nameKey=\"name\"\n            cx=\"50%\"\n            cy=\"50%\"\n            innerRadius={innerRadius}\n            outerRadius={outerRadius}\n            paddingAngle={2}\n            label={renderCalloutLabel}\n            labelLine={{ stroke: \"var(--chart-line-color)\", strokeWidth: 1 }}\n          >\n            {data.map((entry, index) => {\n              const fill = qualityMode\n                ? QUALITY_COLORS[entry.name] || OTHERS_COLOR\n                : entry.isOthers\n                ? OTHERS_COLOR\n                : CHART_COLORS[index % CHART_COLORS.length];\n\n              return <Cell key={`${entry.name}-${index}`} fill={fill} />;\n            })}\n          </Pie>\n          <Tooltip content={<TooltipContent />} />\n        </PieChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nconst ChartCard = ({ title, data, loading, qualityMode = false, compact = false, className = \"\" }) => (\n  <div className={`rounded-2xl border border-transparent bg-white p-6 shadow-md dark:border-slate-700 dark:bg-slate-800 ${className}`}>\n    <div className=\"flex h-72 items-center gap-4\">\n      <div className=\"flex h-full w-[15%] items-center\">\n        <h2 className=\"text-xl font-bold text-slate-900 dark:text-slate-100\">{title}</h2>\n      </div>\n      <div className=\"h-full w-[85%]\">\n        <DonutChart\n          data={data}\n          loading={loading}\n          qualityMode={qualityMode}\n          compact={compact}\n        />\n      </div>\n    </div>\n  </div>\n);\n\nconst KeyMetricsCard = () => (\n  <div className=\"rounded-2xl border border-transparent bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800\">\n    <h2 className=\"mb-4 text-base font-semibold text-slate-700 dark:text-slate-200\">Ключевые метрики</h2>\n    <div className=\"flex flex-wrap items-center justify-between gap-4 lg:flex-nowrap\">\n      {STATIC_METRICS.map((metric) => (\n        <div key={metric.label} className=\"min-w-[180px] flex-1\">\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">{metric.label}</p>\n          <p className=\"mt-1 text-2xl font-bold text-slate-900 dark:text-slate-100\">{metric.value}</p>\n        </div>\n      ))}\n    </div>\n  </div>\n);\n\nconst Charts = ({ aggregations, loading }) => {\n  if (!aggregations && !loading) return null;\n\n  const byModel = toTopFiveWithOthers(aggregations?.by_model || [], \"model\", \"count\");\n  const byCity = toTopFiveWithOthers(aggregations?.by_city || [], \"name\", \"value\");\n  const byQuality = normalizeQuality(aggregations?.by_quality || []);\n\n  return (\n    <div className=\"mb-6 grid grid-cols-1 gap-6 font-sans lg:grid-cols-2\">\n      <ChartCard\n        title=\"Модели автомобилей\"\n        data={byModel}\n        loading={loading}\n        compact\n      />\n\n      <ChartCard\n        title=\"Статистика по городам\"\n        data={byCity}\n        loading={loading}\n        compact\n      />\n\n      <ChartCard\n        className=\"lg:col-span-2\"\n        title=\"Качество лидов\"\n        data={byQuality}\n        loading={loading}\n        qualityMode\n      />\n\n      <div className=\"lg:col-span-2\">\n        <KeyMetricsCard />\n      </div>\n    </div>\n  );\n};\n\nexport default Charts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}