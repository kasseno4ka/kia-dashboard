{"ast":null,"code":"var _jsxFileName = \"/Users/ikassen/kiakia/frontend/src/components/KPICards.jsx\";\nimport React from \"react\";\nimport { format } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatDateTime(value) {\n  if (!value) return \"—\";\n  try {\n    const date = new Date(value);\n    if (isNaN(date.getTime())) return value;\n    return format(date, \"dd.MM.yyyy HH:mm\");\n  } catch {\n    return value;\n  }\n}\nconst KPICards = ({\n  kpi\n}) => {\n  if (!kpi) return null;\n  const {\n    total_leads,\n    conversion,\n    high_potential_pct,\n    quality_leads,\n    last_lead_name,\n    last_lead_datetime\n  } = kpi;\n  const cards = [{\n    label: \"Всего лидов\",\n    value: total_leads !== null && total_leads !== void 0 ? total_leads : 0,\n    hint: \"Количество записей с учетом фильтров\"\n  }, {\n    label: \"Конверсия\",\n    value: conversion !== null && conversion !== void 0 ? conversion : \"—\",\n    hint: \"Доля лидов с качеством выше низкого\"\n  }, {\n    label: \"Высокий потенциал\",\n    value: high_potential_pct !== null && high_potential_pct !== void 0 ? high_potential_pct : \"—\",\n    hint: \"Процент лидов с качеством «высокий»\"\n  }, {\n    label: \"Качественные лиды\",\n    value: quality_leads !== null && quality_leads !== void 0 ? quality_leads : 0,\n    hint: \"Всего лидов с качеством высокий/хороший\"\n  }, {\n    label: \"Последний лид\",\n    value: last_lead_name || \"—\",\n    extra: last_lead_datetime ? formatDateTime(last_lead_datetime) : \"\",\n    hint: \"Имя и время последнего лида\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid gap-4 sm:grid-cols-2 lg:grid-cols-5 mb-6\",\n    children: cards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: card.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex items-baseline justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-value\",\n          children: card.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), card.extra && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-xs text-slate-500\",\n          children: card.extra\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), card.hint && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-xs text-slate-500\",\n        children: card.hint\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, card.label, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_c = KPICards;\nexport default KPICards;\nvar _c;\n$RefreshReg$(_c, \"KPICards\");","map":{"version":3,"names":["React","format","jsxDEV","_jsxDEV","formatDateTime","value","date","Date","isNaN","getTime","KPICards","kpi","total_leads","conversion","high_potential_pct","quality_leads","last_lead_name","last_lead_datetime","cards","label","hint","extra","className","children","map","card","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ikassen/kiakia/frontend/src/components/KPICards.jsx"],"sourcesContent":["import React from \"react\";\nimport { format } from \"date-fns\";\n\nfunction formatDateTime(value) {\n  if (!value) return \"—\";\n  try {\n    const date = new Date(value);\n    if (isNaN(date.getTime())) return value;\n    return format(date, \"dd.MM.yyyy HH:mm\");\n  } catch {\n    return value;\n  }\n}\n\nconst KPICards = ({ kpi }) => {\n  if (!kpi) return null;\n\n  const {\n    total_leads,\n    conversion,\n    high_potential_pct,\n    quality_leads,\n    last_lead_name,\n    last_lead_datetime\n  } = kpi;\n\n  const cards = [\n    {\n      label: \"Всего лидов\",\n      value: total_leads ?? 0,\n      hint: \"Количество записей с учетом фильтров\"\n    },\n    {\n      label: \"Конверсия\",\n      value: conversion ?? \"—\",\n      hint: \"Доля лидов с качеством выше низкого\"\n    },\n    {\n      label: \"Высокий потенциал\",\n      value: high_potential_pct ?? \"—\",\n      hint: \"Процент лидов с качеством «высокий»\"\n    },\n    {\n      label: \"Качественные лиды\",\n      value: quality_leads ?? 0,\n      hint: \"Всего лидов с качеством высокий/хороший\"\n    },\n    {\n      label: \"Последний лид\",\n      value: last_lead_name || \"—\",\n      extra: last_lead_datetime ? formatDateTime(last_lead_datetime) : \"\",\n      hint: \"Имя и время последнего лида\"\n    }\n  ];\n\n  return (\n    <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-5 mb-6\">\n      {cards.map((card) => (\n        <div key={card.label} className=\"card p-4\">\n          <div className=\"card-header flex items-center justify-between\">\n            <span>{card.label}</span>\n          </div>\n          <div className=\"mt-2 flex items-baseline justify-between\">\n            <div className=\"card-value\">{card.value}</div>\n            {card.extra && (\n              <span className=\"ml-2 text-xs text-slate-500\">{card.extra}</span>\n            )}\n          </div>\n          {card.hint && (\n            <p className=\"mt-1 text-xs text-slate-500\">{card.hint}</p>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default KPICards;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}