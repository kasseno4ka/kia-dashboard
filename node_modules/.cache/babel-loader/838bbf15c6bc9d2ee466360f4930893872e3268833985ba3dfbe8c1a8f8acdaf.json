{"ast":null,"code":"var _jsxFileName = \"/Users/ikassen/kiakia/frontend/src/components/Charts.jsx\";\nimport React from \"react\";\nimport { ResponsiveContainer, PieChart, Pie, Cell, Tooltip } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CHART_COLORS = [\"#2563eb\", \"#10b981\", \"#ff6b57\", \"#f59e0b\", \"#7c3aed\"];\nconst OTHERS_COLOR = \"#d1d5db\";\nconst QUALITY_LABELS = {\n  высокий: \"High\",\n  хороший: \"Good\",\n  средний: \"Medium\",\n  низкий: \"Low\"\n};\nconst CARD_COPY = {\n  quality: {\n    title: \"Lead Quality\",\n    subtitle: \"Quality Distribution Overview\",\n    body: \"This graph visualizes incoming leads by warmth level. Focusing on 'High' and 'Good' segments optimizes sales team efforts and increases final deal conversion rates.\"\n  },\n  model: {\n    title: \"Vehicle Models\",\n    subtitle: \"Demand Structure\",\n    body: \"Reflects current customer interest in the model lineup. Data helps adjust marketing budgets and inventory towards the most sought-after positions.\"\n  },\n  city: {\n    title: \"Cities\",\n    subtitle: \"Geographic Focus\",\n    body: \"Illustrates the concentration of demand across key territories. Essential for targeting localized campaigns and managing regional resource allocation.\"\n  }\n};\nfunction normalizeQuality(byQuality) {\n  return (byQuality || []).map(item => {\n    var _ref, _item$count;\n    return {\n      name: QUALITY_LABELS[item.quality] || item.quality || \"Unknown\",\n      value: (_ref = (_item$count = item.count) !== null && _item$count !== void 0 ? _item$count : item.value) !== null && _ref !== void 0 ? _ref : 0\n    };\n  }).filter(item => item.value > 0);\n}\nfunction toTopFiveWithOthers(items, nameKey, valueKey) {\n  const normalized = (items || []).map(item => {\n    var _ref2, _ref3, _item$valueKey;\n    return {\n      name: item[nameKey] || item.name || \"—\",\n      value: (_ref2 = (_ref3 = (_item$valueKey = item[valueKey]) !== null && _item$valueKey !== void 0 ? _item$valueKey : item.count) !== null && _ref3 !== void 0 ? _ref3 : item.value) !== null && _ref2 !== void 0 ? _ref2 : 0\n    };\n  }).filter(item => item.value > 0).sort((a, b) => b.value - a.value);\n  const topFive = normalized.slice(0, 5);\n  const othersValue = normalized.slice(5).reduce((sum, item) => sum + item.value, 0);\n  if (othersValue > 0) {\n    topFive.push({\n      name: \"Others\",\n      value: othersValue,\n      isOthers: true\n    });\n  }\n  return topFive;\n}\nfunction formatCompact(value) {\n  return new Intl.NumberFormat(\"en-US\", {\n    notation: \"compact\"\n  }).format(value || 0);\n}\nconst TooltipContent = ({\n  active,\n  payload\n}) => {\n  var _payload$;\n  if (!active || !payload || !payload.length) return null;\n  const item = (_payload$ = payload[0]) === null || _payload$ === void 0 ? void 0 : _payload$.payload;\n  if (!item) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-medium\",\n      children: item.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: item.value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_c = TooltipContent;\nconst renderCalloutLabel = ({\n  cx,\n  cy,\n  midAngle,\n  outerRadius,\n  percent,\n  name\n}) => {\n  if (!percent || percent <= 0) return null;\n  const RADIAN = Math.PI / 180;\n  const radius = outerRadius + 18;\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n  const textAnchor = x > cx ? \"start\" : \"end\";\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: x,\n    y: y,\n    fill: \"#334155\",\n    textAnchor: textAnchor,\n    dominantBaseline: \"central\",\n    style: {\n      fontSize: 11,\n      fontWeight: 500\n    },\n    children: `${name} ${Math.round(percent * 100)}%`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\nconst EmptyState = ({\n  loading\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex h-full items-center justify-center text-sm text-slate-400\",\n  children: loading ? \"Loading data...\" : \"Insufficient data\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 102,\n  columnNumber: 3\n}, this);\n_c2 = EmptyState;\nconst CircularChart = ({\n  data,\n  loading\n}) => {\n  if (loading || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(EmptyState, {\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    width: \"100%\",\n    height: \"100%\",\n    children: /*#__PURE__*/_jsxDEV(PieChart, {\n      children: [/*#__PURE__*/_jsxDEV(Pie, {\n        data: data,\n        dataKey: \"value\",\n        nameKey: \"name\",\n        cx: \"50%\",\n        cy: \"50%\",\n        innerRadius: 52,\n        outerRadius: 88,\n        paddingAngle: 2,\n        label: renderCalloutLabel,\n        labelLine: {\n          stroke: \"#cbd5e1\",\n          strokeWidth: 1\n        },\n        children: data.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n          fill: entry.isOthers ? OTHERS_COLOR : CHART_COLORS[index % CHART_COLORS.length]\n        }, `${entry.name}-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        content: /*#__PURE__*/_jsxDEV(TooltipContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_c3 = CircularChart;\nconst InsightBlock = ({\n  kpi,\n  title,\n  subtitle,\n  body\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-1 flex-col justify-center\",\n  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-3xl font-semibold tracking-tight text-slate-900\",\n    children: kpi\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-1 text-sm font-semibold text-slate-900\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-3 text-base font-semibold text-slate-800\",\n    children: subtitle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mt-2 text-sm leading-6 text-slate-600\",\n    children: body\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 141,\n  columnNumber: 3\n}, this);\n_c4 = InsightBlock;\nconst ChartCard = ({\n  data,\n  loading,\n  copy,\n  kpi,\n  className = \"\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `rounded-2xl border border-slate-100 bg-white p-6 shadow-[0_10px_30px_rgba(15,23,42,0.06)] ${className}`,\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-6 lg:flex-row lg:items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-72 w-full lg:w-[45%]\",\n      children: /*#__PURE__*/_jsxDEV(CircularChart, {\n        data: data,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InsightBlock, {\n      kpi: kpi,\n      title: copy.title,\n      subtitle: copy.subtitle,\n      body: copy.body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 150,\n  columnNumber: 3\n}, this);\n_c5 = ChartCard;\nconst Charts = ({\n  aggregations,\n  loading\n}) => {\n  if (!aggregations && !loading) return null;\n  const byQuality = normalizeQuality((aggregations === null || aggregations === void 0 ? void 0 : aggregations.by_quality) || []);\n  const byModel = toTopFiveWithOthers((aggregations === null || aggregations === void 0 ? void 0 : aggregations.by_model) || [], \"model\", \"count\");\n  const byCity = toTopFiveWithOthers((aggregations === null || aggregations === void 0 ? void 0 : aggregations.by_city) || [], \"name\", \"value\");\n  const totalLeads = byQuality.reduce((sum, item) => sum + item.value, 0);\n  const qualityPriority = byQuality.filter(item => item.name === \"High\" || item.name === \"Good\").reduce((sum, item) => sum + item.value, 0);\n  const topModel = byModel[0];\n  const topCity = byCity[0];\n  const qualityKpi = totalLeads ? `${Math.round(qualityPriority / totalLeads * 100)}%` : \"0%\";\n  const modelKpi = topModel ? `${topModel.name} · ${Math.round(topModel.value / byModel.reduce((sum, item) => sum + item.value, 0) * 100)}%` : \"No data\";\n  const cityKpi = topCity ? `${topCity.name} · ${Math.round(topCity.value / byCity.reduce((sum, item) => sum + item.value, 0) * 100)}%` : \"No data\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-6 grid gap-6 lg:grid-cols-12\",\n    children: [/*#__PURE__*/_jsxDEV(ChartCard, {\n      className: \"lg:col-span-7\",\n      data: byQuality,\n      loading: loading,\n      copy: CARD_COPY.quality,\n      kpi: `${qualityKpi} Priority`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n      className: \"lg:col-span-5\",\n      data: byModel,\n      loading: loading,\n      copy: CARD_COPY.model,\n      kpi: modelKpi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChartCard, {\n      className: \"lg:col-span-12\",\n      data: byCity,\n      loading: loading,\n      copy: CARD_COPY.city,\n      kpi: `${cityKpi} • ${formatCompact(byCity.reduce((sum, item) => sum + item.value, 0))}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_c6 = Charts;\nexport default Charts;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"TooltipContent\");\n$RefreshReg$(_c2, \"EmptyState\");\n$RefreshReg$(_c3, \"CircularChart\");\n$RefreshReg$(_c4, \"InsightBlock\");\n$RefreshReg$(_c5, \"ChartCard\");\n$RefreshReg$(_c6, \"Charts\");","map":{"version":3,"names":["React","ResponsiveContainer","PieChart","Pie","Cell","Tooltip","jsxDEV","_jsxDEV","CHART_COLORS","OTHERS_COLOR","QUALITY_LABELS","высокий","хороший","средний","низкий","CARD_COPY","quality","title","subtitle","body","model","city","normalizeQuality","byQuality","map","item","_ref","_item$count","name","value","count","filter","toTopFiveWithOthers","items","nameKey","valueKey","normalized","_ref2","_ref3","_item$valueKey","sort","a","b","topFive","slice","othersValue","reduce","sum","push","isOthers","formatCompact","Intl","NumberFormat","notation","format","TooltipContent","active","payload","_payload$","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","renderCalloutLabel","cx","cy","midAngle","outerRadius","percent","RADIAN","Math","PI","radius","x","cos","y","sin","textAnchor","fill","dominantBaseline","style","fontSize","fontWeight","round","EmptyState","loading","_c2","CircularChart","data","width","height","dataKey","innerRadius","paddingAngle","label","labelLine","stroke","strokeWidth","entry","index","content","_c3","InsightBlock","kpi","_c4","ChartCard","copy","_c5","Charts","aggregations","by_quality","byModel","by_model","byCity","by_city","totalLeads","qualityPriority","topModel","topCity","qualityKpi","modelKpi","cityKpi","_c6","$RefreshReg$"],"sources":["/Users/ikassen/kiakia/frontend/src/components/Charts.jsx"],"sourcesContent":["import React from \"react\";\nimport { ResponsiveContainer, PieChart, Pie, Cell, Tooltip } from \"recharts\";\n\nconst CHART_COLORS = [\"#2563eb\", \"#10b981\", \"#ff6b57\", \"#f59e0b\", \"#7c3aed\"];\nconst OTHERS_COLOR = \"#d1d5db\";\n\nconst QUALITY_LABELS = {\n  высокий: \"High\",\n  хороший: \"Good\",\n  средний: \"Medium\",\n  низкий: \"Low\",\n};\n\nconst CARD_COPY = {\n  quality: {\n    title: \"Lead Quality\",\n    subtitle: \"Quality Distribution Overview\",\n    body: \"This graph visualizes incoming leads by warmth level. Focusing on 'High' and 'Good' segments optimizes sales team efforts and increases final deal conversion rates.\",\n  },\n  model: {\n    title: \"Vehicle Models\",\n    subtitle: \"Demand Structure\",\n    body: \"Reflects current customer interest in the model lineup. Data helps adjust marketing budgets and inventory towards the most sought-after positions.\",\n  },\n  city: {\n    title: \"Cities\",\n    subtitle: \"Geographic Focus\",\n    body: \"Illustrates the concentration of demand across key territories. Essential for targeting localized campaigns and managing regional resource allocation.\",\n  },\n};\n\nfunction normalizeQuality(byQuality) {\n  return (byQuality || [])\n    .map((item) => ({\n      name: QUALITY_LABELS[item.quality] || item.quality || \"Unknown\",\n      value: item.count ?? item.value ?? 0,\n    }))\n    .filter((item) => item.value > 0);\n}\n\nfunction toTopFiveWithOthers(items, nameKey, valueKey) {\n  const normalized = (items || [])\n    .map((item) => ({\n      name: item[nameKey] || item.name || \"—\",\n      value: item[valueKey] ?? item.count ?? item.value ?? 0,\n    }))\n    .filter((item) => item.value > 0)\n    .sort((a, b) => b.value - a.value);\n\n  const topFive = normalized.slice(0, 5);\n  const othersValue = normalized.slice(5).reduce((sum, item) => sum + item.value, 0);\n\n  if (othersValue > 0) {\n    topFive.push({ name: \"Others\", value: othersValue, isOthers: true });\n  }\n\n  return topFive;\n}\n\nfunction formatCompact(value) {\n  return new Intl.NumberFormat(\"en-US\", { notation: \"compact\" }).format(value || 0);\n}\n\nconst TooltipContent = ({ active, payload }) => {\n  if (!active || !payload || !payload.length) return null;\n\n  const item = payload[0]?.payload;\n  if (!item) return null;\n\n  return (\n    <div className=\"rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-slate-700 shadow-sm\">\n      <p className=\"font-medium\">{item.name}</p>\n      <p>{item.value}</p>\n    </div>\n  );\n};\n\nconst renderCalloutLabel = ({ cx, cy, midAngle, outerRadius, percent, name }) => {\n  if (!percent || percent <= 0) return null;\n\n  const RADIAN = Math.PI / 180;\n  const radius = outerRadius + 18;\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n  const textAnchor = x > cx ? \"start\" : \"end\";\n\n  return (\n    <text\n      x={x}\n      y={y}\n      fill=\"#334155\"\n      textAnchor={textAnchor}\n      dominantBaseline=\"central\"\n      style={{ fontSize: 11, fontWeight: 500 }}\n    >\n      {`${name} ${Math.round(percent * 100)}%`}\n    </text>\n  );\n};\n\nconst EmptyState = ({ loading }) => (\n  <div className=\"flex h-full items-center justify-center text-sm text-slate-400\">\n    {loading ? \"Loading data...\" : \"Insufficient data\"}\n  </div>\n);\n\nconst CircularChart = ({ data, loading }) => {\n  if (loading || data.length === 0) {\n    return <EmptyState loading={loading} />;\n  }\n\n  return (\n    <ResponsiveContainer width=\"100%\" height=\"100%\">\n      <PieChart>\n        <Pie\n          data={data}\n          dataKey=\"value\"\n          nameKey=\"name\"\n          cx=\"50%\"\n          cy=\"50%\"\n          innerRadius={52}\n          outerRadius={88}\n          paddingAngle={2}\n          label={renderCalloutLabel}\n          labelLine={{ stroke: \"#cbd5e1\", strokeWidth: 1 }}\n        >\n          {data.map((entry, index) => (\n            <Cell\n              key={`${entry.name}-${index}`}\n              fill={entry.isOthers ? OTHERS_COLOR : CHART_COLORS[index % CHART_COLORS.length]}\n            />\n          ))}\n        </Pie>\n        <Tooltip content={<TooltipContent />} />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\n\nconst InsightBlock = ({ kpi, title, subtitle, body }) => (\n  <div className=\"flex flex-1 flex-col justify-center\">\n    <p className=\"text-3xl font-semibold tracking-tight text-slate-900\">{kpi}</p>\n    <p className=\"mt-1 text-sm font-semibold text-slate-900\">{title}</p>\n    <p className=\"mt-3 text-base font-semibold text-slate-800\">{subtitle}</p>\n    <p className=\"mt-2 text-sm leading-6 text-slate-600\">{body}</p>\n  </div>\n);\n\nconst ChartCard = ({ data, loading, copy, kpi, className = \"\" }) => (\n  <div\n    className={`rounded-2xl border border-slate-100 bg-white p-6 shadow-[0_10px_30px_rgba(15,23,42,0.06)] ${className}`}\n  >\n    <div className=\"flex flex-col gap-6 lg:flex-row lg:items-center\">\n      <div className=\"h-72 w-full lg:w-[45%]\">\n        <CircularChart data={data} loading={loading} />\n      </div>\n      <InsightBlock\n        kpi={kpi}\n        title={copy.title}\n        subtitle={copy.subtitle}\n        body={copy.body}\n      />\n    </div>\n  </div>\n);\n\nconst Charts = ({ aggregations, loading }) => {\n  if (!aggregations && !loading) return null;\n\n  const byQuality = normalizeQuality(aggregations?.by_quality || []);\n  const byModel = toTopFiveWithOthers(aggregations?.by_model || [], \"model\", \"count\");\n  const byCity = toTopFiveWithOthers(aggregations?.by_city || [], \"name\", \"value\");\n\n  const totalLeads = byQuality.reduce((sum, item) => sum + item.value, 0);\n  const qualityPriority = byQuality\n    .filter((item) => item.name === \"High\" || item.name === \"Good\")\n    .reduce((sum, item) => sum + item.value, 0);\n\n  const topModel = byModel[0];\n  const topCity = byCity[0];\n\n  const qualityKpi = totalLeads\n    ? `${Math.round((qualityPriority / totalLeads) * 100)}%`\n    : \"0%\";\n\n  const modelKpi = topModel\n    ? `${topModel.name} · ${Math.round((topModel.value / byModel.reduce((sum, item) => sum + item.value, 0)) * 100)}%`\n    : \"No data\";\n\n  const cityKpi = topCity\n    ? `${topCity.name} · ${Math.round((topCity.value / byCity.reduce((sum, item) => sum + item.value, 0)) * 100)}%`\n    : \"No data\";\n\n  return (\n    <div className=\"mb-6 grid gap-6 lg:grid-cols-12\">\n      <ChartCard\n        className=\"lg:col-span-7\"\n        data={byQuality}\n        loading={loading}\n        copy={CARD_COPY.quality}\n        kpi={`${qualityKpi} Priority`}\n      />\n\n      <ChartCard\n        className=\"lg:col-span-5\"\n        data={byModel}\n        loading={loading}\n        copy={CARD_COPY.model}\n        kpi={modelKpi}\n      />\n\n      <ChartCard\n        className=\"lg:col-span-12\"\n        data={byCity}\n        loading={loading}\n        copy={CARD_COPY.city}\n        kpi={`${cityKpi} • ${formatCompact(byCity.reduce((sum, item) => sum + item.value, 0))}`}\n      />\n    </div>\n  );\n};\n\nexport default Charts;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,mBAAmB,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7E,MAAMC,YAAY,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AAC5E,MAAMC,YAAY,GAAG,SAAS;AAE9B,MAAMC,cAAc,GAAG;EACrBC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE,QAAQ;EACjBC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBC,OAAO,EAAE;IACPC,KAAK,EAAE,cAAc;IACrBC,QAAQ,EAAE,+BAA+B;IACzCC,IAAI,EAAE;EACR,CAAC;EACDC,KAAK,EAAE;IACLH,KAAK,EAAE,gBAAgB;IACvBC,QAAQ,EAAE,kBAAkB;IAC5BC,IAAI,EAAE;EACR,CAAC;EACDE,IAAI,EAAE;IACJJ,KAAK,EAAE,QAAQ;IACfC,QAAQ,EAAE,kBAAkB;IAC5BC,IAAI,EAAE;EACR;AACF,CAAC;AAED,SAASG,gBAAgBA,CAACC,SAAS,EAAE;EACnC,OAAO,CAACA,SAAS,IAAI,EAAE,EACpBC,GAAG,CAAEC,IAAI;IAAA,IAAAC,IAAA,EAAAC,WAAA;IAAA,OAAM;MACdC,IAAI,EAAElB,cAAc,CAACe,IAAI,CAACT,OAAO,CAAC,IAAIS,IAAI,CAACT,OAAO,IAAI,SAAS;MAC/Da,KAAK,GAAAH,IAAA,IAAAC,WAAA,GAAEF,IAAI,CAACK,KAAK,cAAAH,WAAA,cAAAA,WAAA,GAAIF,IAAI,CAACI,KAAK,cAAAH,IAAA,cAAAA,IAAA,GAAI;IACrC,CAAC;EAAA,CAAC,CAAC,CACFK,MAAM,CAAEN,IAAI,IAAKA,IAAI,CAACI,KAAK,GAAG,CAAC,CAAC;AACrC;AAEA,SAASG,mBAAmBA,CAACC,KAAK,EAAEC,OAAO,EAAEC,QAAQ,EAAE;EACrD,MAAMC,UAAU,GAAG,CAACH,KAAK,IAAI,EAAE,EAC5BT,GAAG,CAAEC,IAAI;IAAA,IAAAY,KAAA,EAAAC,KAAA,EAAAC,cAAA;IAAA,OAAM;MACdX,IAAI,EAAEH,IAAI,CAACS,OAAO,CAAC,IAAIT,IAAI,CAACG,IAAI,IAAI,GAAG;MACvCC,KAAK,GAAAQ,KAAA,IAAAC,KAAA,IAAAC,cAAA,GAAEd,IAAI,CAACU,QAAQ,CAAC,cAAAI,cAAA,cAAAA,cAAA,GAAId,IAAI,CAACK,KAAK,cAAAQ,KAAA,cAAAA,KAAA,GAAIb,IAAI,CAACI,KAAK,cAAAQ,KAAA,cAAAA,KAAA,GAAI;IACvD,CAAC;EAAA,CAAC,CAAC,CACFN,MAAM,CAAEN,IAAI,IAAKA,IAAI,CAACI,KAAK,GAAG,CAAC,CAAC,CAChCW,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACb,KAAK,GAAGY,CAAC,CAACZ,KAAK,CAAC;EAEpC,MAAMc,OAAO,GAAGP,UAAU,CAACQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EACtC,MAAMC,WAAW,GAAGT,UAAU,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC;EAElF,IAAIgB,WAAW,GAAG,CAAC,EAAE;IACnBF,OAAO,CAACK,IAAI,CAAC;MAAEpB,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAEgB,WAAW;MAAEI,QAAQ,EAAE;IAAK,CAAC,CAAC;EACtE;EAEA,OAAON,OAAO;AAChB;AAEA,SAASO,aAAaA,CAACrB,KAAK,EAAE;EAC5B,OAAO,IAAIsB,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;IAAEC,QAAQ,EAAE;EAAU,CAAC,CAAC,CAACC,MAAM,CAACzB,KAAK,IAAI,CAAC,CAAC;AACnF;AAEA,MAAM0B,cAAc,GAAGA,CAAC;EAAEC,MAAM;EAAEC;AAAQ,CAAC,KAAK;EAAA,IAAAC,SAAA;EAC9C,IAAI,CAACF,MAAM,IAAI,CAACC,OAAO,IAAI,CAACA,OAAO,CAACE,MAAM,EAAE,OAAO,IAAI;EAEvD,MAAMlC,IAAI,IAAAiC,SAAA,GAAGD,OAAO,CAAC,CAAC,CAAC,cAAAC,SAAA,uBAAVA,SAAA,CAAYD,OAAO;EAChC,IAAI,CAAChC,IAAI,EAAE,OAAO,IAAI;EAEtB,oBACElB,OAAA;IAAKqD,SAAS,EAAC,wFAAwF;IAAAC,QAAA,gBACrGtD,OAAA;MAAGqD,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAEpC,IAAI,CAACG;IAAI;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1C1D,OAAA;MAAAsD,QAAA,EAAIpC,IAAI,CAACI;IAAK;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChB,CAAC;AAEV,CAAC;AAACC,EAAA,GAZIX,cAAc;AAcpB,MAAMY,kBAAkB,GAAGA,CAAC;EAAEC,EAAE;EAAEC,EAAE;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,OAAO;EAAE5C;AAAK,CAAC,KAAK;EAC/E,IAAI,CAAC4C,OAAO,IAAIA,OAAO,IAAI,CAAC,EAAE,OAAO,IAAI;EAEzC,MAAMC,MAAM,GAAGC,IAAI,CAACC,EAAE,GAAG,GAAG;EAC5B,MAAMC,MAAM,GAAGL,WAAW,GAAG,EAAE;EAC/B,MAAMM,CAAC,GAAGT,EAAE,GAAGQ,MAAM,GAAGF,IAAI,CAACI,GAAG,CAAC,CAACR,QAAQ,GAAGG,MAAM,CAAC;EACpD,MAAMM,CAAC,GAAGV,EAAE,GAAGO,MAAM,GAAGF,IAAI,CAACM,GAAG,CAAC,CAACV,QAAQ,GAAGG,MAAM,CAAC;EACpD,MAAMQ,UAAU,GAAGJ,CAAC,GAAGT,EAAE,GAAG,OAAO,GAAG,KAAK;EAE3C,oBACE7D,OAAA;IACEsE,CAAC,EAAEA,CAAE;IACLE,CAAC,EAAEA,CAAE;IACLG,IAAI,EAAC,SAAS;IACdD,UAAU,EAAEA,UAAW;IACvBE,gBAAgB,EAAC,SAAS;IAC1BC,KAAK,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,UAAU,EAAE;IAAI,CAAE;IAAAzB,QAAA,EAExC,GAAGjC,IAAI,IAAI8C,IAAI,CAACa,KAAK,CAACf,OAAO,GAAG,GAAG,CAAC;EAAG;IAAAV,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC,CAAC;AAEX,CAAC;AAED,MAAMuB,UAAU,GAAGA,CAAC;EAAEC;AAAQ,CAAC,kBAC7BlF,OAAA;EAAKqD,SAAS,EAAC,gEAAgE;EAAAC,QAAA,EAC5E4B,OAAO,GAAG,iBAAiB,GAAG;AAAmB;EAAA3B,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAC/C,CACN;AAACyB,GAAA,GAJIF,UAAU;AAMhB,MAAMG,aAAa,GAAGA,CAAC;EAAEC,IAAI;EAAEH;AAAQ,CAAC,KAAK;EAC3C,IAAIA,OAAO,IAAIG,IAAI,CAACjC,MAAM,KAAK,CAAC,EAAE;IAChC,oBAAOpD,OAAA,CAACiF,UAAU;MAACC,OAAO,EAAEA;IAAQ;MAAA3B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;EAEA,oBACE1D,OAAA,CAACN,mBAAmB;IAAC4F,KAAK,EAAC,MAAM;IAACC,MAAM,EAAC,MAAM;IAAAjC,QAAA,eAC7CtD,OAAA,CAACL,QAAQ;MAAA2D,QAAA,gBACPtD,OAAA,CAACJ,GAAG;QACFyF,IAAI,EAAEA,IAAK;QACXG,OAAO,EAAC,OAAO;QACf7D,OAAO,EAAC,MAAM;QACdkC,EAAE,EAAC,KAAK;QACRC,EAAE,EAAC,KAAK;QACR2B,WAAW,EAAE,EAAG;QAChBzB,WAAW,EAAE,EAAG;QAChB0B,YAAY,EAAE,CAAE;QAChBC,KAAK,EAAE/B,kBAAmB;QAC1BgC,SAAS,EAAE;UAAEC,MAAM,EAAE,SAAS;UAAEC,WAAW,EAAE;QAAE,CAAE;QAAAxC,QAAA,EAEhD+B,IAAI,CAACpE,GAAG,CAAC,CAAC8E,KAAK,EAAEC,KAAK,kBACrBhG,OAAA,CAACH,IAAI;UAEH8E,IAAI,EAAEoB,KAAK,CAACrD,QAAQ,GAAGxC,YAAY,GAAGD,YAAY,CAAC+F,KAAK,GAAG/F,YAAY,CAACmD,MAAM;QAAE,GAD3E,GAAG2C,KAAK,CAAC1E,IAAI,IAAI2E,KAAK,EAAE;UAAAzC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE9B,CACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA,CAACF,OAAO;QAACmG,OAAO,eAAEjG,OAAA,CAACgD,cAAc;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAE1B,CAAC;AAACwC,GAAA,GA/BId,aAAa;AAiCnB,MAAMe,YAAY,GAAGA,CAAC;EAAEC,GAAG;EAAE1F,KAAK;EAAEC,QAAQ;EAAEC;AAAK,CAAC,kBAClDZ,OAAA;EAAKqD,SAAS,EAAC,qCAAqC;EAAAC,QAAA,gBAClDtD,OAAA;IAAGqD,SAAS,EAAC,sDAAsD;IAAAC,QAAA,EAAE8C;EAAG;IAAA7C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,eAC7E1D,OAAA;IAAGqD,SAAS,EAAC,2CAA2C;IAAAC,QAAA,EAAE5C;EAAK;IAAA6C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,eACpE1D,OAAA;IAAGqD,SAAS,EAAC,6CAA6C;IAAAC,QAAA,EAAE3C;EAAQ;IAAA4C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC,eACzE1D,OAAA;IAAGqD,SAAS,EAAC,uCAAuC;IAAAC,QAAA,EAAE1C;EAAI;IAAA2C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAC5D,CACN;AAAC2C,GAAA,GAPIF,YAAY;AASlB,MAAMG,SAAS,GAAGA,CAAC;EAAEjB,IAAI;EAAEH,OAAO;EAAEqB,IAAI;EAAEH,GAAG;EAAE/C,SAAS,GAAG;AAAG,CAAC,kBAC7DrD,OAAA;EACEqD,SAAS,EAAE,6FAA6FA,SAAS,EAAG;EAAAC,QAAA,eAEpHtD,OAAA;IAAKqD,SAAS,EAAC,iDAAiD;IAAAC,QAAA,gBAC9DtD,OAAA;MAAKqD,SAAS,EAAC,wBAAwB;MAAAC,QAAA,eACrCtD,OAAA,CAACoF,aAAa;QAACC,IAAI,EAAEA,IAAK;QAACH,OAAO,EAAEA;MAAQ;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eACN1D,OAAA,CAACmG,YAAY;MACXC,GAAG,EAAEA,GAAI;MACT1F,KAAK,EAAE6F,IAAI,CAAC7F,KAAM;MAClBC,QAAQ,EAAE4F,IAAI,CAAC5F,QAAS;MACxBC,IAAI,EAAE2F,IAAI,CAAC3F;IAAK;MAAA2C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;AAAC8C,GAAA,GAhBIF,SAAS;AAkBf,MAAMG,MAAM,GAAGA,CAAC;EAAEC,YAAY;EAAExB;AAAQ,CAAC,KAAK;EAC5C,IAAI,CAACwB,YAAY,IAAI,CAACxB,OAAO,EAAE,OAAO,IAAI;EAE1C,MAAMlE,SAAS,GAAGD,gBAAgB,CAAC,CAAA2F,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEC,UAAU,KAAI,EAAE,CAAC;EAClE,MAAMC,OAAO,GAAGnF,mBAAmB,CAAC,CAAAiF,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEG,QAAQ,KAAI,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC;EACnF,MAAMC,MAAM,GAAGrF,mBAAmB,CAAC,CAAAiF,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEK,OAAO,KAAI,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC;EAEhF,MAAMC,UAAU,GAAGhG,SAAS,CAACuB,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC;EACvE,MAAM2F,eAAe,GAAGjG,SAAS,CAC9BQ,MAAM,CAAEN,IAAI,IAAKA,IAAI,CAACG,IAAI,KAAK,MAAM,IAAIH,IAAI,CAACG,IAAI,KAAK,MAAM,CAAC,CAC9DkB,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC;EAE7C,MAAM4F,QAAQ,GAAGN,OAAO,CAAC,CAAC,CAAC;EAC3B,MAAMO,OAAO,GAAGL,MAAM,CAAC,CAAC,CAAC;EAEzB,MAAMM,UAAU,GAAGJ,UAAU,GACzB,GAAG7C,IAAI,CAACa,KAAK,CAAEiC,eAAe,GAAGD,UAAU,GAAI,GAAG,CAAC,GAAG,GACtD,IAAI;EAER,MAAMK,QAAQ,GAAGH,QAAQ,GACrB,GAAGA,QAAQ,CAAC7F,IAAI,MAAM8C,IAAI,CAACa,KAAK,CAAEkC,QAAQ,CAAC5F,KAAK,GAAGsF,OAAO,CAACrE,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC,GAAI,GAAG,CAAC,GAAG,GAChH,SAAS;EAEb,MAAMgG,OAAO,GAAGH,OAAO,GACnB,GAAGA,OAAO,CAAC9F,IAAI,MAAM8C,IAAI,CAACa,KAAK,CAAEmC,OAAO,CAAC7F,KAAK,GAAGwF,MAAM,CAACvE,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC,GAAI,GAAG,CAAC,GAAG,GAC7G,SAAS;EAEb,oBACEtB,OAAA;IAAKqD,SAAS,EAAC,iCAAiC;IAAAC,QAAA,gBAC9CtD,OAAA,CAACsG,SAAS;MACRjD,SAAS,EAAC,eAAe;MACzBgC,IAAI,EAAErE,SAAU;MAChBkE,OAAO,EAAEA,OAAQ;MACjBqB,IAAI,EAAE/F,SAAS,CAACC,OAAQ;MACxB2F,GAAG,EAAE,GAAGgB,UAAU;IAAY;MAAA7D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CAAC,eAEF1D,OAAA,CAACsG,SAAS;MACRjD,SAAS,EAAC,eAAe;MACzBgC,IAAI,EAAEuB,OAAQ;MACd1B,OAAO,EAAEA,OAAQ;MACjBqB,IAAI,EAAE/F,SAAS,CAACK,KAAM;MACtBuF,GAAG,EAAEiB;IAAS;MAAA9D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eAEF1D,OAAA,CAACsG,SAAS;MACRjD,SAAS,EAAC,gBAAgB;MAC1BgC,IAAI,EAAEyB,MAAO;MACb5B,OAAO,EAAEA,OAAQ;MACjBqB,IAAI,EAAE/F,SAAS,CAACM,IAAK;MACrBsF,GAAG,EAAE,GAAGkB,OAAO,MAAM3E,aAAa,CAACmE,MAAM,CAACvE,MAAM,CAAC,CAACC,GAAG,EAAEtB,IAAI,KAAKsB,GAAG,GAAGtB,IAAI,CAACI,KAAK,EAAE,CAAC,CAAC,CAAC;IAAG;MAAAiC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAC6D,GAAA,GAtDId,MAAM;AAwDZ,eAAeA,MAAM;AAAC,IAAA9C,EAAA,EAAAwB,GAAA,EAAAe,GAAA,EAAAG,GAAA,EAAAG,GAAA,EAAAe,GAAA;AAAAC,YAAA,CAAA7D,EAAA;AAAA6D,YAAA,CAAArC,GAAA;AAAAqC,YAAA,CAAAtB,GAAA;AAAAsB,YAAA,CAAAnB,GAAA;AAAAmB,YAAA,CAAAhB,GAAA;AAAAgB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}